# 📆 月度计划看板 - 更新日志

## [1.3.0] - 2026-01-24

### 📅 优化周和月份计算规则

按照实际周历习惯优化了周和月份的自动识别逻辑。

#### 新规则
- **每周从周一开始，周日结束**
- **月份按周一所在月份计算**：整周（周一到周日）归属于周一所在的月份
- **第几周按当月第几个周一计算**

#### 示例
- 2026.1.5（周一）~ 2026.1.11（周日）→ 1月 第一周
- 如果某天是周三，会自动找到该周的周一来确定月份和第几周

---

## [1.2.0] - 2025-12-20

### 🎯 自动识别月份和周

添加新计划时，月份和周会根据选择的日期自动计算，同时支持手动修改。

#### 变更
- 月份字段自动识别，支持手动修改（下拉选择 1-12 月）
- 周字段自动识别，支持手动修改（下拉选择第一周至第五周）
- 日期变化时自动更新月份和周
- 如自动识别有误，用户可手动修改

---

## [1.1.0] - 2025-12-20

### 🔧 本地化存储升级

将数据存储从浏览器 localStorage 改为本地文件存储。

#### 新增文件
- `server.py` - Python 本地服务器（推荐）
- `server.js` - Node.js 本地服务器（备选）
- `package.json` - Node.js 项目配置
- `data.json` - 本地数据存储文件

#### 主要变更
- 数据现在存储在项目目录的 `data.json` 文件中
- 添加 Node.js HTTP 服务器提供 API 接口
- 前端改用 fetch API 与服务器通信
- 支持实时保存到本地文件

#### API 接口
| 方法 | 路径 | 说明 |
|------|------|------|
| GET | `/api/plans` | 获取所有计划 |
| POST | `/api/plans` | 添加新计划 |
| PUT | `/api/plans` | 批量导入 |
| PUT | `/api/plans/:id` | 更新计划 |
| PATCH | `/api/plans/:id` | 切换完成状态 |
| DELETE | `/api/plans/:id` | 删除计划 |

#### 使用方法
```bash
# 方式1: Python 服务器（推荐，无需安装依赖）
python3 server.py

# 方式2: Node.js 服务器（需要安装 Node.js）
node server.js

# 访问地址
http://localhost:3000
```

---

## [1.0.0] - 2025-12-20

### 🎉 初始版本发布

基于 Excel 离线文件（`example.xlsx`）创建了网页版日常计划应用。

### ✨ 新增功能

#### 核心功能
- **计划管理**：支持添加、编辑、删除计划
- **完成状态**：点击复选框切换计划完成状态
- **本地存储**：使用 localStorage 存储数据，刷新页面数据不丢失

#### 数据字段（与Excel文件保持一致）
| 字段 | 说明 |
|------|------|
| 计划详情 | 任务名称 |
| 日期 | 具体日期 |
| 月份 | 所属月份（11月/12月） |
| 周 | 第几周（第一周~第四周） |
| 类型标签 | 学习输入/运动锻炼/兴趣爱好/目标设定 |
| 是否完成 | ✅ 或 □ |
| 总结 | 计划完成后的总结 |

#### 筛选功能
- 按月份筛选
- 按周筛选
- 按类型筛选（学习/运动/兴趣爱好）
- 按状态筛选（已完成/未完成）

#### 统计面板
- 总计划数
- 已完成数量
- 完成率（带进度条）
- 各类型任务数量统计

#### 数据导入/导出
- 支持导出 JSON 格式备份文件
- 支持导入 JSON 格式数据

#### 界面特性
- 深色主题设计
- 响应式布局，支持移动端
- 动画效果和微交互
- Toast 通知提示

### 📁 文件结构

```
schedule/
├── index.html      # 主页面（包含HTML/CSS/JS）
├── example.xlsx    # 原始Excel数据文件
├── CHANGELOG.md    # 更新日志
└── 每日复利计划11~12月.zip
```

### 🚀 使用方法

1. 双击 `index.html` 在浏览器中打开
2. 首次打开会自动加载示例数据
3. 点击"添加计划"按钮添加新计划
4. 点击复选框标记完成状态
5. 使用筛选功能查看特定计划
6. 点击"导出数据"备份你的计划

### 📌 技术栈

- 纯前端实现（HTML + CSS + JavaScript）
- 无需后端服务器
- 数据存储：localStorage
- 字体：Noto Sans SC（Google Fonts）

